<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin | Bigg Boss 19</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="navbar">
  <a href="index.html">Home</a>
  <a href="predict.html">Predict</a>
  <a href="leaderboard.html">Leaderboard</a>
  <a href="contestants.html">Contestants</a>
  <a href="admin.html" id="adminLink">Admin</a>
</div>

<section class="center-screen">
<h2>Admin Panel ⚙️</h2>
<p>Select nominated contestants and set prediction end time</p>

<label>Prediction End Date & Time:</label><br>
<input type="datetime-local" id="endTime"><br><br>

<div class="grid-container" id="adminContestants">
  <!-- Populate contestants dynamically -->
</div>

<button id="publishBtn">Publish Nominations</button>
</section>

<script>
let user = localStorage.getItem('twitch_user');
if(user!=='bobmasterbillie'){ alert('Access denied'); window.location='index.html'; }

const contestants = [
  "Abhishek Bajaj","Amaal Mallik","Ashnoor Kaur","Awez Darbar","Baseer Ali",
  "Farhana Bhatt","Gaurav Khanna","Kunickaa Sadanand","Mridul Tiwari","Nagma Mirajkar",
  "Natalia Janoszek","Neelam Giri","Nehal Chudasama","Pranit More","Shehbaz Badesha",
  "Tanya Mittal","Zeishan Quadri"
];

const container = document.getElementById('adminContestants');
contestants.forEach(name=>{
  const div=document.createElement('div');
  div.className='prediction-option';
  div.innerHTML=`<img src="Contestant/${name}.jpg"><h3>${name}</h3><input type="checkbox" value="${name}">`;
  container.appendChild(div);
});

document.getElementById('publishBtn').onclick = ()=>{
  const selected = Array.from(container.querySelectorAll('input:checked')).map(i=>i.value);
  localStorage.setItem('nominations', JSON.stringify(selected));
  const end = document.getElementById('endTime').value;
  if(end) localStorage.setItem('prediction_end', new Date(end));
  alert('Nominations published!');
};
</script>
</body>
</html>
