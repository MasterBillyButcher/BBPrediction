<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Leaderboard</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="navbar">
  <a href="index.html">Home</a>
  <a href="predict.html">Predict</a>
  <a href="leaderboard.html">Leaderboard</a>
  <a href="contestants.html">Contestants</a>
  <a href="admin.html" id="adminLink" style="display:none;">Admin</a>
</div>

<section class="center-screen">
<h2>Leaderboard 🏆</h2>
<table id="leaderboardTable">
  <tr><th>Rank</th><th>User</th><th>Points</th></tr>
</table>
</section>

<script>
const users=JSON.parse(localStorage.getItem('userPredictions')||'[]');
const leaderboard={};
users.forEach(u=>{leaderboard[u.user]=(leaderboard[u.user]||0)+1});
const sorted=Object.entries(leaderboard).sort((a,b)=>b[1]-a[1]);
const table=document.getElementById('leaderboardTable');
sorted.forEach(([user,points],i)=>{
  const row=table.insertRow();
  row.insertCell(0).innerText=i+1;
  row.insertCell(1).innerText=user;
  row.insertCell(2).innerText=points;
});
</script>
</body>
</html>
