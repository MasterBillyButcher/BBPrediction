<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bigg Boss 19 | Home</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="navbar">
  <a href="index.html">Home</a>
  <a href="predict.html">Predict</a>
  <a href="leaderboard.html">Leaderboard</a>
  <a href="contestants.html">Contestants</a>
  <a href="admin.html" id="adminLink" style="display:none;">Admin</a>
</div>

<section class="center-screen" id="homeSection">
<h2>Welcome to Bigg Boss 19 Prediction Game</h2>
<div id="loginDiv">
  <button id="loginBtn">Login with Twitch</button>
</div>

<div id="userDiv" style="display:none;">
  <img id="userAvatar" src="" width="100" height="100" style="border-radius:50%;">
  <h3 id="username"></h3>
  <h4>Mark your favorite contestant:</h4>
  <div class="grid-container" id="favGrid"></div>
  <button id="saveFav">Save Favorite</button>
</div>
</section>

<script>
// Sample Twitch login simulation (replace with real OAuth)
const adminUsers=["bobmasterbillie"];
let user={username:"MasterBillie",avatar:"https://static-cdn.jtvnw.net/jtv_user_pictures/6edb3d3e-profile_image-300x300.png"};

document.getElementById('loginBtn').onclick=()=>{
  document.getElementById('loginDiv').style.display='none';
  showUser();
};

function showUser(){
  document.getElementById('userDiv').style.display='flex';
  document.getElementById('username').innerText=user.username;
  document.getElementById('userAvatar').src=user.avatar;
  if(adminUsers.includes(user.username.toLowerCase())) document.getElementById('adminLink').style.display='block';

  // Favorite contestants
  const favContestants=[
    "Abhishek Bajaj","Amaal Mallik","Ashnoor Kaur","Awez Darbar","Baseer Ali",
    "Farhana Bhatt","Gaurav Khanna","Kunickaa Sadanand","Mridul Tiwari","Nagma Mirajkar",
    "Natalia Janoszek","Neelam Giri","Nehal Chudasama","Pranit More","Shehbaz Badesha",
    "Tanya Mittal","Zeishan Quadri"
  ];
  const grid=document.getElementById('favGrid');
  favContestants.forEach(name=>{
    const div=document.createElement('div');
    div.classList.add('card');
    div.innerHTML=`<img src="Contestant/${name}.jpg" onerror="this.src='https://via.placeholder.com/200x250?text=${name}'"><h3>${name}</h3>`;
    div.onclick=()=>div.classList.toggle('selected');
    grid.appendChild(div);
  });

  document.getElementById('saveFav').onclick=()=>{
    const favs=[...grid.querySelectorAll('.card.selected')].map(c=>c.querySelector('h3').innerText);
    localStorage.setItem('favContestants',JSON.stringify(favs));
    alert('Favorite contestants saved: '+favs.join(', '));
  };
}
</script>
</body>
</html>
