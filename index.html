<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bigg Boss 19 | Home</title>
<link rel="stylesheet" href="style.css">
<style>
  body {
    background-color: #121212;
    color: #fff;
    font-family: 'Roboto', sans-serif;
    margin:0; padding:0;
  }
  .navbar {
    display:flex; justify-content:center; gap:2rem;
    background:#1E1E1E; padding:1rem; position:fixed; width:100%; top:0; z-index:1000;
  }
  .navbar a {color:#39FF14; text-decoration:none; font-weight:bold;}
  .center-screen {display:flex; flex-direction:column; align-items:center; justify-content:center; padding-top:120px;}
  button {padding:0.7rem 1.5rem; background:#39FF14; border:none; border-radius:10px; font-weight:bold; cursor:pointer; transition:0.3s;}
  button:hover {box-shadow:0 0 15px #39FF14; transform:translateY(-3px);}
  .admin-section {margin-top:30px; padding:1rem; background:#1E1E1E; border-radius:12px; box-shadow:0 0 10px rgba(57,255,20,0.3);}
  input {padding:0.5rem; border-radius:8px; border:none; margin-right:10px;}
</style>
</head>
<body>
<div class="navbar">
  <a href="index.html">Home</a>
  <a href="predict.html">Predict</a>
  <a href="leaderboard.html">Leaderboard</a>
  <a href="contestants.html">Contestants</a>
  <a href="admin.html" id="adminLink" style="display:none;">Admin</a>
</div>

<section class="center-screen">
<h2>Bigg Boss 19 Prediction Game</h2>

<div id="loginDiv">
  <button id="loginBtn">Login with Twitch</button>
</div>

<div id="userDiv" style="display:none; flex-direction:column; align-items:center;">
  <img id="userAvatar" src="" width="100" height="100" style="border-radius:50%; margin-bottom:10px;">
  <h3 id="username"></h3>
  <button id="logoutBtn" style="margin-top:10px;">Logout</button>

  <div class="admin-section" id="adminSection" style="display:none;">
    <h4>Assign Admin Power ⚙️</h4>
    <input type="text" id="newAdmin" placeholder="Enter Twitch Username">
    <button id="addAdminBtn">Give Admin</button>
    <p id="adminMsg"></p>
  </div>
</div>
</section>

<script>
// Demo user session (replace with OAuth in production)
let user=null; 
let adminUsers=["bobmasterbillie","beaststatsofficial","timepasstime"];
const loginBtn=document.getElementById('loginBtn');
const logoutBtn=document.getElementById('logoutBtn');
const userDiv=document.getElementById('userDiv');
const loginDiv=document.getElementById('loginDiv');
const adminSection=document.getElementById('adminSection');
const adminLink=document.getElementById('adminLink');

loginBtn.onclick=()=>{
  // Simulate OAuth login (replace with Twitch OAuth)
  user={username:"MasterBillie",avatar:"https://static-cdn.jtvnw.net/jtv_user_pictures/6edb3d3e-profile_image-300x300.png"};
  loginDiv.style.display='none';
  showUser();
};

logoutBtn.onclick=()=>{
  user=null;
  loginDiv.style.display='block';
  userDiv.style.display='none';
  adminLink.style.display='none';
};

function showUser(){
  if(!user) return;
  userDiv.style.display='flex';
  document.getElementById('username').innerText=user.username;
  document.getElementById('userAvatar').src=user.avatar;

  if(adminUsers.includes(user.username.toLowerCase())){
    adminLink.style.display='block';
    adminSection.style.display='block';
  }
}

// Admin Assign Feature
document.getElementById('addAdminBtn').onclick=()=>{
  const newAdmin=document.getElementById('newAdmin').value.trim().toLowerCase();
  if(newAdmin && !adminUsers.includes(newAdmin)){
    adminUsers.push(newAdmin);
    document.getElementById('adminMsg').innerText=`${newAdmin} is now an admin!`;
    document.getElementById('newAdmin').value='';
    alert(`${newAdmin} granted admin power!`);
  } else {
    document.getElementById('adminMsg').innerText='Invalid username or already admin.';
  }
};
</script>
</body>
</html>
